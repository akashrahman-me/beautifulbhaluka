package com.akash.beautifulbhaluka.presentation.screens.news

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import com.akash.beautifulbhaluka.domain.model.Journalist
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.StateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.flow.update
import kotlinx.coroutines.launch

class NewsViewModel : ViewModel() {

    private val _uiState = MutableStateFlow(NewsUiState())
    val uiState: StateFlow<NewsUiState> = _uiState.asStateFlow()

    init {
        loadJournalists()
    }

    private fun loadJournalists() {
        viewModelScope.launch {
            _uiState.update { it.copy(isLoading = true) }

            // Static data as provided
            val journalists = listOf(
                Journalist("১.", "এম. এ মালেক খান উজ্জল", "সমকাল", "০১৭১১-৫১৫১৬৭"),
                Journalist("২.", "এম.এ. সবুর", "দৈনিক সকালের সময়", "০১৭১৪-৬৩৫৬১৬"),
                Journalist("৩.", "আতাউর রহমান তরফদার", "দৈনিক সংবাদ", "০১৭১১-২৩৮৩৬৪"),
                Journalist(
                    "৪.",
                    "মো. আসাদুজ্জামান সুমন",
                    "এটিএন নিউজ ও বাংলাদেশ প্রতিদিন",
                    "০১৭১১-২৩৮৩৬৪"
                ),
                Journalist("৫.", "মো. মনিরুজ্জামান খান", "দৈনিক মানবজমিন", "০১৭১২-১৮৫৮৩৯"),
                Journalist("৬.", "আসাদুজ্জামান ফজলু", "দৈনিক নয়া দিগন্ত", "০১৭৬১-৫৮২৩৩৮"),
                Journalist("৭.", "তমাল কান্তি সরকার", "দৈনিক জনতা", "০১৭১২-১৮৫৮৩৯"),
                Journalist("৮.", "মো. কামরুল এহসান চন্দন", "দৈনিক জনকণ্ঠ", "০১৭১৩-৫৪৪৮৩৫"),
                Journalist("৯.", "মো. মোবাশ্যারুল ইসলাম সবুজ", "দৈনিক ইনকিলাব", "০১৭১২-৬৭৭৫৭৩"),
                Journalist("১০.", "মো. আলমগীর হোসেন", "এনটিভি", "০১৭৬১-৫৮২৩৬২"),
                Journalist("১১.", "মো. হাদিকুর রহমান হাদিস", "আজকের ময়মনসিংহ", "০১৭১৬-১১৮৭৯১"),
                Journalist("১২.", "মো. রফিকুল ইসলাম রফিক", "আনন্দ টিভি", "০১৭১১-১৯২৫৩৭"),
                Journalist("১৩.", "মো. ফিরোজ খান", "আরটিভি ও সময়ের আলো", "০১৭৫৭-৯৬৪৬৪৫"),
                Journalist("১৪.", "বীরেন রায়", "দৈনিক কালবেলা", "০১৭১৩-৯৩২১৫৯"),
                Journalist("১৫.", "শাহ হাছান আলী", "দৈনিক আলোকিত বাংলাদেশ", "০১৭৬১-৭০৬৩৮৯"),
                Journalist("১৬.", "মো. ওয়ালিউল ইসলাম", "দৈনিক জাগ্রত বাংলা", "০১৭৩৫-৮২১১২১"),
                Journalist("১৭.", "মো. মোখলেছুর রহমান মনির", "দৈনিক কালের কণ্ঠ", "০১৭১৩-৫৯৯৩৪৮"),
                Journalist("১৮.", "মো. মাইন উদ্দিন", "সপ্ত মহাদেশ", "০১৭১৩-৫৯৯৩৪৮"),
                Journalist("১৯.", "রতন রায়", "দৈনিক সবুজ", "০১৭১৩-৫৯৯৩৪৮"),
                Journalist("২০.", "মো. আলী আকবর সাজু", "আজকের পত্রিকা", "০১৭৬২-৬০০৯৬০"),
                Journalist("২১.", "রফিকুল ইসলাম পিন্টু", "দৈনিক খবর", "০১৭১৩-৫৬৫০৩৪"),
                Journalist("২২.", "মো. রফিকুল ইসলাম হীরন", "সপ্ত মহাদেশ", "০১৭১৫-৬২৬৬০০"),
                Journalist(
                    "২৩.",
                    "মো. জহিরুল ইসলাম জুয়েল",
                    "দৈনিক যুগান্তর, বৈশাখী টিভি",
                    "০১৭১৩-৫৯৮২৩৯"
                ),
                Journalist("২৪.", "এম. এ. সামাদ মিয়া", "দৈনিক সবুজ", "০১৭১৩-৫৯৮২৩৯"),
                Journalist(
                    "২৫.",
                    "বীর মুক্তিযোদ্ধা গিয়াস উদ্দিন তাঃ",
                    "জাগ্রত বাংলা",
                    "০১৭৭৪-৭৮৪৫১০"
                ),
                Journalist("২৬.", "কামরুল হাসান পাঠান কামাল", "দৈনিক ইনকিলাব", "০১৭১৩-৫৮৪০৪৮"),
                Journalist("২৭.", "এস.এম. শাজাহান সেলিম", "মোহনা টিভি", "০১৭১৫-১১৫৪৯৯"),
                Journalist("২৮.", "মো. কামরুজ্জামান মানিক", "দৈনিক ইত্তেফাক", "০১৭১৩-৫৯৮২৪৬"),
                Journalist("২৯.", "সাদিকুর রহমান তালুকদার", "আজকের বাংলাদেশ", "০১৭১৩-৫৬১৯০৪"),
                Journalist("৩০.", "এ্যাডভোকেট এস.এম. জামান", "দৈনিক স্বদেশ সংবাদ", "০১৭১১-৩৮৪০৭৩"),
                Journalist("৩১.", "মো. শাহাব উদ্দিন", "দৈনিক গণমুখ", "০১৭১৩-৯৯১৪১২"),
                Journalist("৩২.", "আবু সাঈদ জুয়েল", "ভোরের কাগজ", "০১৭১৩-৫৬৫০৩৪"),
                Journalist("৩৩.", "মেহেরুল হক রিপন", "বাংলাদেশ সময়", "০১৭১৯-৩৪০৯৩৮"),
                Journalist(
                    "৩৪.",
                    "মোহাম্মদ আক্কাছ আলী",
                    "বাংলাদেশ বুলেটিন ও এশিয়ান টিভি",
                    "০১৭১৩-৫৯৮২৩৩"
                ),
                Journalist("৩৫.", "মো. জুনায়েত শাহরিয়ার খান", "চ্যানেল ২৪", "০১৭১১-২৪৬৫২৮"),
                Journalist("৩৬.", "শফিকুল ইসলাম সবুজ", "দৈনিক মানবকণ্ঠ", "০১৭১৫-৮১৫৬৪৭"),
                Journalist("৩৭.", "মাও. মোঃ হারুন অর রশিদ", "দৈনিক ঢাকার ডাক", "০১৭১৩-৬৩৪৫৩০"),
                Journalist("৩৮.", "খলিলুর রহমান", "প্রতিদিনের সংবাদ ও আলোর ছোঁয়া", "০১৭১৩-৫৮৪৫১২"),
                Journalist("৩৯.", "মো. আওলাদ হোসেন রুবেল", "এসএ টিভি", "০১৭১২-৭১৭৭৭২"),
                Journalist(
                    "৪০.",
                    "মো. জাহিদুল ইসলাম খান",
                    "একাত্তর টিভি ও আমাদের সময়",
                    "০১৭১৬-৮৪২২৬৩"
                ),
                Journalist("৪১.", "মো. রফিকুল ইসলাম", "ঢাকা প্রতিদিন", "০১৭৩০-৯৮৫৪২৩"),
                Journalist("৪২.", "আবুল বাশার শেখ", "দৈনিক আমার সংবাদ", "০১৭১৭-০৩৯৮৭৯"),
                Journalist("৪৩.", "মো. কামরুল আরেফিন", "দৈনিক প্রতিদিনের কাগজ", "০১৭১১-৫১৬৭৭৮"),
                Journalist("৪৪.", "আফরোজা আক্তার জবা", "আজকের বাংলাদেশ", "০১৭১১-১৫৪৪৯২"),
                Journalist(
                    "৪৫.",
                    "মো. আনোয়ার হোসেন তফরদার",
                    "এটিএন বাংলা ও স্বদেশ প্রতিদিন",
                    "০১৭১১-৪৬৫৭৪০"
                )
            )

            _uiState.update {
                it.copy(
                    isLoading = false,
                    journalists = journalists,
                    error = null
                )
            }
        }
    }
}
